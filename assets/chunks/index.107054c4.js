import{_ as L,B as N,u as j,i as c,q as T,y as A,o,c as n,a as u,t as m,b as h,w as E,C as F,j as b,F as V,g as O,n as $,s as C,e as q,k as z,T as D,r as M,p as U,f as G}from"../app.20a46c54.js";const g=s=>(U("data-v-54dfd2a5"),s=s(),G(),s),H={class:"pied-select-value"},J=g(()=>u("div",{class:"pied-select-icon"},">",-1)),K=["onClick"],P={class:"bg-main"},Q={key:0,class:"main-select-input"},R={class:"main-select-content"},W=g(()=>u("p",{class:"tip"},"select list",-1)),X={class:"content-list"},Y=["onClick"],Z={name:"piedSelect"},ee=Object.assign(Z,{props:{modelValue:{type:String,default:""},data:{type:Array,default:()=>[]},filterable:{type:Boolean,default:!1},keys:{type:Object,default:{label:"label",value:"value"}}},emits:["update:modelValue","change"],setup(s,{emit:f}){const a=s,k=N(document.body),S=j(),r=c(!1),v=c(""),l=c(""),p=c(""),d=c("");l.value=a.modelValue;const I=T(()=>a.data.filter(e=>e[a.keys.label].includes(d.value)));A(()=>a.modelValue,(e,_)=>{l.value=e,v.value=l.value,a.data.forEach(i=>{i[a.keys.value]===l.value&&(p.value=i[a.keys.label])})},{immediate:!0});const w=()=>{r.value=!0,k.value=!0},y=()=>{r.value=!1,k.value=!1},x=e=>{v.value=e[a.keys.value],e[a.keys.value]!==l.value&&f("change",e),l.value=e[a.keys.value],p.value=e[a.keys.label],f("update:modelValue",l.value),d.value="",y()};return(e,_)=>{const i=M("pied-input");return o(),n("div",{class:"pied-select",onClick:w},[u("div",H,m(p.value),1),J,h(D,{name:"fade"},{default:E(()=>[r.value?(o(),n("div",{key:0,class:"select-bg",onClick:F(y,["stop","self"])},[u("div",P,[s.filterable?(o(),n("div",Q,[h(i,{modelValue:d.value,"onUpdate:modelValue":_[0]||(_[0]=t=>d.value=t),onInput:e.onInput,label:"search",center:""},null,8,["modelValue","onInput"])])):b("",!0),u("div",R,[W,u("ul",X,[(o(!0),n(V,null,O(C(I),(t,B)=>(o(),n("li",{class:$(["list-item",[v.value==t[s.keys.value]?"itemActive":""]]),key:B,onClick:ae=>x(t)},[C(S).default?z(e.$slots,"default",{key:1,data:t},void 0,!0):(o(),n(V,{key:0},[q(m(t[s.keys.label]),1)],64))],10,Y))),128))])])])],8,K)):b("",!0)]),_:3})])}}}),le=L(ee,[["__scopeId","data-v-54dfd2a5"]]);export{le as default};
